import docker\nimport docker.errors\nfrom typing import List, Optional\nfrom docker import DockerClient\nfrom llm_sandbox.const import SupportedLanguage, DefaultImage, NotSupportedLibraryInstallation, SupportedLanguageValues\n\ndef image_exists(client: DockerClient, image: str) -> bool:\n    """\n    Check if a Docker image exists.\n    :param client: Docker client.\n    :param image: Docker image name.\n    :return: True if the image exists, False otherwise.\n    """\n    try:\n        client.images.get(image)\n        return True\n    except docker.errors.ImageNotFound:\n        return False\n    except Exception as e:\n        raise e\n\ndef get_libraries_installation_command(lang: str, libraries: List[str]) -> Optional[str]:\n    """\n    Get the command to install libraries for the given language.\n    :param lang: Programming language.\n    :param libraries: List of libraries.\n    :return: Installation command or None if not supported.\n    """\n    if lang in NotSupportedLibraryInstallation:\n        return None  # Java does not support direct library installation in this context.\n    \\